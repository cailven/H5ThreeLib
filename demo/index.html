<!DOCTYPE html>
<html lang="en">
<head>
    <title>H5ThreeLib</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=device-width, target-densitydpi=device-dpi , initial-scale=1, maximum-scale=1, user-scalable=no"/>

    <script src="lib/three.min.js"></script>
    <script src="lib/OrbitControls.js"></script>
    <script src="../dist/H5ThreeLib.js"></script>

    <style>
        body {
            margin: 0px;
            background: black;
            overflow: hidden;
        }

        div {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

    </style>

</head>
<body>
<div id="threeCanvas"></div>
<script>

    H5ThreeLib.init3D.init("threeCanvas");
    H5ThreeLib.init3D.createOrbitControls();

    var cubeArr = [];
    for (var i = 0; i < 20; i++) {
        var cube = H5ThreeLib.geos.createCube();
        cube.name = "box" + i;
        cube.position.set((i % 5) * 20 - 40, parseInt(i / 5) * 20 - 40, 0);
        cubeArr.push(cube);

        H5ThreeLib.setRayData("box" + i, function (evt) {
            console.log(evt.name);
        });
    }

    function run() {
        for (var i = 0; i < cubeArr.length; i++) {
            cubeArr[i].rotation.y += 0.1;
            cubeArr[i].rotation.z += 0.1;
        }
    }

    H5ThreeLib.active(run);


    // H5ThreeLib.setRayData("box1", function (evt) {
    //     console.log(evt.name);
    // });
    //
    // H5ThreeLib.setRayData("box2", function (evt) {
    //     console.log(evt.name);
    // });

</script>
</body>
</html>